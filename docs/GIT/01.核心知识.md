---
title: GIT知识点
date: 2022-03-24 18:53:37
sticky: false
permalink: /pages/GIT/
categories: 
  - GIT
tags: 
  - 
author: 
  name: Xin
  link: https://github.com/xin-code
---

Git常见的问题，以及解决办法

<!-- more -->



## git rebase

![Rebase](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1552dbc2a3434303af00151992ece1b0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp)

```git
//将分支切换到master分支
git checkout master

//把test分支合并到master分支
git rebase test
```



## 本地配置多个github账号

1. 生成新的ssh密钥

   ```git
   ssh-keygen -t rsa -f "id_rsa_Xin" 
   // 会生成 id_rsa_Xin和id_rsa_Xin.pub两个文件
   ```

2.  复制新的公钥到github账号

   - 用户->settings->SSH and GPG keys->New SSH key 把'id_rsa_Xin.pub'公钥复制入内

3. 配置.ssh文件夹内的config文件

   ```git
   # xin-code
   Host Xin.github.com
   HostName github.com
   PreferredAuthentications publickey
   IdentityFile ~/.ssh/id_rsa_Xin
   
   # Xinx1201
   Host Xinx1201.github.com
   HostName github.com
   PreferredAuthentications publickey
   IdentityFile ~/.ssh/id_rsa_Xinx
   ```

4. 测试连通性

   ```git
   ssh -T git@Xin.github.com
   ssh -T git@Xinx1201.github.com 
   ```

   

## `.gitkeep`作用

- 这要从git不允许追踪(track)或者说提交一个空的文件夹说起，git本身是不允许提交一个空文件夹的，所有就有了.gitkeep的存在，可以把它看作是一个占位符。



## 在部署Hexo出现的问题

- OpenSSL SSL_read: Connection was reset, errno 10054 错误解决

  ```git
  git config --global http.sslVerify "false"
  ```

- Failed to connect to github.com port 443 

  修改host文件, 在`C:\Windows\System32\drivers\etc\hosts`末尾加上两行

  ```git
  192.30.255.112  github.com git 
  185.31.16.184 github.global.ssl.fastly.net
  ```

  

## 代理

- 配置代理

  ```git
  git config --local http.proxy 'socks5://127.0.0.1:10808' 
  git config --local https.proxy 'socks5://127.0.0.1:10808' 
  ```

  - `--local`为本地的工程里面添加单独的配置
  - `--global`添加全局配置

- 取消代理

  ```git
  git config --local --unset http.proxy 'socks5://127.0.0.1:10808' 
  git config --local --unset https.proxy 'socks5://127.0.0.1:10808'
  ```

  



## 统一Git提交的用户名/邮箱

- 可以新建一个文件`modify_author.sh` 用git bash 打开 并运行`$ ./modify_author.sh`

```Git
#!/bin/sh

git filter-branch --env-filter '
OLD_EMAIL="975203723@qq.com"
CORRECT_NAME="Xinx1201"
CORRECT_EMAIL="z975203723@gmai.com"
if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_COMMITTER_NAME="$CORRECT_NAME"
    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"
fi
if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_AUTHOR_NAME="$CORRECT_NAME"
    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"
fi
' --tag-name-filter cat -- --branches --tags
```

