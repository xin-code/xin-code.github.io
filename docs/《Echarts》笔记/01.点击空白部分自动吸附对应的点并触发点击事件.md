---
title: 点击空白部分自动吸附对应的点并触发点击事件
date: 2023-01-12 18:16:15
permalink: /pages/bb39ce/
categories:
  - 前端
  - Echarts
tags:
  - Echarts
author: 
  name: Xin
  link: https://github.com/xin-code
---


::: demo 
```vue
<template>
  <div ref="chart" style="width: 800px; height: 350px"></div>
</template>

<script>
export default {
  mounted() {
    this.initChart();
  },
  methods: {
    initChart() {
      const chart = echarts.init(this.$refs.chart);
      const option = {
        tooltip: {
          trigger: "axis",
        },
        grid: {
          top: "20px",
          left: "40x",
          right: 0,
          bottom: "20px",
        },
        xAxis: {
          data: ["衬衫", "羊毛衫", "雪纺衫", "裤子", "高跟鞋", "袜子"],
        },
        yAxis: {},
        series: [
          {
            name: "销量",
            type: "line",
            smooth: true,
            data: [5, 20, 36, 10, 10, 20],
          },
        ],
      };
      // 核心代码
      chart.getZr().on("mousedown", (params) => {
        const pointInPixel = [params.offsetX, params.offsetY];
        if (chart.containPixel("grid", pointInPixel)) {
          let xIndex = chart.convertFromPixel({ seriesIndex: 0 }, [
            params.offsetX,
            params.offsetY,
          ])[0];
          this.$message.success(
            "你点击区域的数据为：" + option.series[0].data[xIndex]
          );
        }
      });
      chart.setOption(option);
    },
  },
};
</script>
```
:::
