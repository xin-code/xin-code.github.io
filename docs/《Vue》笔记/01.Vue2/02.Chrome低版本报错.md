---
title: Chrome低版本报错
date: 2025-09-12 17:45:39
permalink: /pages/296560/
categories:
  - 《Vue》笔记
  - Vue2
tags:
  - 
author: 
  name: Xin
  link: https://github.com/xin-code
---
## Chrome低版本报错

```html
Chrome控制台报错：
Uncaught SyntaxError: Unexpected token .
```



### 1️⃣ 安装 Babel 转换插件

```bash
yarn add -D @babel/plugin-transform-optional-chaining @babel/plugin-transform-nullish-coalescing-operator core-js regenerator-runtime
```



### 2️⃣ 配置 `babel.config.js`

在项目根目录的 `babel.config.js` 里加入这两个插件：

```javascript
module.exports = {
  presets: [
    [
      '@vue/cli-plugin-babel/preset',
      {
        useBuiltIns: 'entry', // 按需引入 polyfill
        corejs: 3
      }
    ]
  ],
  plugins: [
    '@babel/plugin-transform-optional-chaining',
    '@babel/plugin-transform-nullish-coalescing-operator'
  ]
}

```



### 3️⃣ 确认浏览器兼容目标

Vue CLI 的 Babel preset 默认会根据 `browserslist` 做兼容，你可以检查一下 `package.json` 里是否有类似：

```json
"browserslist": [
  "chrome >= 49",
  "ie 11",
  "> 0.2%",
  "not dead",
  "not op_mini all"
]
```



### 3️⃣ 最保险的方法：**强制 Babel 转译所有 `node_modules`**

```javascript
module.exports = {
  publicPath: '/',
  devServer: {
    host: "0.0.0.0",
    port: 8811, // 端口号
    https: false, // https:{type:Boolean}
    open: false, // 配置自动启动浏览器
    proxy: {// 配置跨域
      '/xx': {
        target: 'http://192.168.0.1:8888/', // 要访问的跨域域名
        ws: true,
        changeOrigin: true,
        pathRewrite: {
          '^/xx': ''
        },
      }
    }
  },
  lintOnSave: process.env.NODE_ENV !== 'production' ? 'error' : false,
  productionSourceMap: false,
  // ✅ 添加 transpileDependencies 以兼容低版本浏览器
  transpileDependencies: [
    /node_modules/
  ],
  configureWebpack: {
    plugins: [new NodePolyfillPlugin()],
    resolve: {
      alias: {
        'vue$': "vue/dist/vue.js",
        package: resolve('package.json'),
        '@': path.resolve(__dirname, './src'),
      },
    },
  },
  // css: {
  //   loaderOptions: {
  //     scss: { // 如果配置为"additionalData"无效，请到官网查阅最新配置信息
  //       additionalData: `@import "~@/styles/utilities/all.scss";`
  //     }
  //   }
  // },
  chainWebpack (config) {
    // set svg-sprite-loader
    config.module
      .rule('svg')
      .exclude.add(resolve('src/assets/svg'))
      .end()
    config.module
      .rule('icons')
      .test(/\.svg$/)
      .include.add(resolve('src/assets/svg'))
      .end()
      .use('svg-sprite-loader')
      .loader('svg-sprite-loader')
      .options({
        symbolId: 'icon-[name]',
      })
      .end()
  },
}

```



###  修改入口文件 `main.js`，引入 polyfill

```javascript
import 'core-js/stable';
import 'regenerator-runtime/runtime';
import Vue from 'vue';
import App from './App.vue';

new Vue({
  render: h => h(App)
}).$mount('#app');

```

