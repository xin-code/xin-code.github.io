---
title: GitHub Page部署Vue-cli项目
date: 2022-12-09 15:26:45
permalink: /pages/3b6dd8/
categories:
  - Other
tags:
  - 
author: 
  name: Xin
  link: https://github.com/xin-code
---
## 1、在 GitHub 上创建与本地项目同名的远程仓库



## 2、将本地项目 push 到远程

```git
$ git init
$ git add .
$ git cmt -m 'create project'
$ git remote add origin git@github.com:taosang1992/vue-router-test.git
$ git push -u origin master
```



## 3、将 dist 下的所有文件夹 push 到 gh-pages

```git
$ npm run build
$ git checkout -b gh-pages
$ git add -f dist
$ git commit -m 'create project'
$ git subtree push --prefix dist origin gh-pages
```



## 重复推送的情况下，可以使用`shelljs`进行自动化处理

- 安装`npm install shelljs`

- 通过`shelljs`依次执行git命令

```shell
const shell = require("shelljs")
shell.exec("git push origin --delete gh-pages", {}, function () {
  shell.exec("git branch -D gh-pages", {}, function () {
    shell.exec("npm run build", {}, function () {
      shell.exec("git checkout -b gh-pages", {}, function () {
        shell.exec("git add -f dist", {}, function () {
          shell.exec("git commit -m 'Jx3_Tool'", {}, function () {
            shell.exec("git subtree push --prefix dist origin gh-pages", {}, function () {
              shell.exec("git checkout main", {}, function () {
              })
            })
          })
        })
      })
    })
  })
})
```

