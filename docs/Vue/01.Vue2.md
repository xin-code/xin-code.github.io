---
title: Vue2
date: 2022-03-24 16:13:37
sticky: false
permalink: /pages/vue2/
categories: 
  - Vue2
tags: 
  - 
author: 
  name: Xin
  link: https://github.com/xin-code
---


æ­¤æ–‡æ¡£å¸®åŠ©æˆ‘åœ¨å­¦ä¹ å·¥ä½œä¸­ï¼ŒVueæ˜“æ··çŸ¥è¯†ç‚¹ä»¥åŠéƒ¨åˆ†åŸºç¡€çŸ¥è¯†è¿›è¡Œçš„æ¢³ç†æ€»ç»“

<!-- more -->



## æŒ‡ä»¤

### :star:v-if / v-show

- v-if 

  - v-if="true" æ’å…¥å…ƒç´ 
  - v-if="false"ç§»é™¤å…ƒç´ 
  - ä¼šæ‘§æ¯æ•´ä¸ªdomå…ƒç´ æ•´ä¸ªæ·»åŠ æˆ–åˆ é™¤

- v-show

  - v-show="true" æ˜¾ç¤º
  - v-show="false"éšè—
  - æœ¬è´¨ä¸Šæ˜¯ä¸ºè¯¥domå…ƒç´ æ·»åŠ ä¸€ä¸ªcsså±æ€§å¹¶åŸºäº `display`è¿›è¡Œåˆ‡æ¢

- æ¶ˆè€—æ–¹é¢ï¼šv-ifæœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼Œv-showæœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—

  ï¼ˆv-if ç›¸æ¯” v-show å¼€é”€æ›´å¤§çš„ï¼ˆå› ä¸ºç›´æ¥æ“ä½œdomèŠ‚ç‚¹å¢åŠ ä¸åˆ é™¤ï¼‰ï¼‰





## import '@...' ä¸­@æŒ‡ä»£

- @ ç­‰ä»·äº `/src` è¿™ä¸ªç›®å½•ï¼Œé¿å…å†™éº»çƒ¦åˆæ˜“é”™çš„ç›¸å¯¹è·¯å¾„



## ç¼©å†™

```vue
:class ç­‰æ•ˆäº v-bind:class
@click ç­‰æ•ˆäº v-on:click
<template #footer ç­‰æ•ˆäº <template v-slot:footer
```



## .nativeä¿®é¥°ç¬¦çš„ä½¿ç”¨

- åœ¨ v-on ï¼ˆ@ï¼‰ä¸Šä½¿ç”¨çš„ä¿®é¥°ç¬¦ .native ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªåŸç”Ÿçš„äº‹ä»¶

  ```vue
  @keyup.enter.native="save"  // å›è½¦è§¦å‘äº‹ä»¶ 'save'
  @click.native="onClickDetail" // ç‚¹å‡»è§¦å‘äº‹ä»¶ 'onClickDetail'
  ```

  

## å…·åæ’æ§½

- çˆ¶ç»„ä»¶

  - ä¸€ä¸ªä¸å¸¦ `name` çš„ `<slot>` å‡ºå£ä¼šå¸¦æœ‰éšå«çš„åå­—â€œdefaultâ€ã€‚

  ```vue
  <div class="container">
    <header>
      <slot name="header"></slot>
    </header>
    <main>
      <slot></slot>
    </main>
    <footer>
      <slot name="footer"></slot>
    </footer>
  </div>
  ```

  

- å­ç»„ä»¶

  ```vue
  <div>
    <template v-slot:header>
    <!-- å¯ç¼©å†™ä¸º#header -->
    <template #header>
      <h1>Here might be a page title</h1>
    </template>
    </template>
  
    <template v-slot:default>
    <!-- å¯ç¼©å†™ä¸º#default -->
    <template #default>
      <p>A paragraph for the main content.</p>
      <p>And another one.</p>
    </template>
    </template>
  
    <template v-slot:footer>
    <!-- å¯ç¼©å†™ä¸º#footer -->
    <template #footer>
      <p>Here's some contact info</p>
    </template>
    </template>
  </div>
  ```

  



## this.$set( target, key, value )

- ä½¿ç”¨åœºæ™¯ï¼šå‘å“åº”å¼å¯¹è±¡æ–°å¢ä¸€ä¸ªå±æ€§ï¼Œå¹¶ç¡®ä¿è¿™ä¸ªæ–°å±æ€§åŒæ ·æ˜¯å“åº”å¼çš„ï¼Œå¯ä»¥è§¦å‘è§†å›¾æ›´æ–°
- å½“ä½¿ç”¨watchæ–¹æ³•æ—¶ï¼Œå¯ä»¥ç”¨è¿™ä¸ªè§¦å‘è§†å›¾æ›´æ–°

```vue
ğŸŒ¹ targetï¼šè¦æ›´æ”¹çš„æ•°æ®æº(å¯ä»¥æ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„)
ğŸŒ¹ keyï¼šè¦æ›´æ”¹çš„å…·ä½“æ•°æ®(indexå€¼)
ğŸŒ¹ value ï¼šé‡æ–°èµ‹çš„å€¼
```







## é˜²æŠ–å’ŒèŠ‚æµ

- é˜²æŠ–ï¼š

  å½“æŒç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä¸€å®šæ—¶é—´æ®µå†…æ²¡æœ‰å†è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°æ‰ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœè®¾å®šçš„æ—¶é—´åˆ°æ¥ä¹‹å‰ï¼Œåˆä¸€æ¬¡è§¦å‘äº†äº‹ä»¶ï¼Œå°±é‡æ–°å¼€å§‹å»¶æ—¶

- èŠ‚æµï¼š

  æŒ‰ç…§è®¾å®šçš„æ—¶é—´å›ºå®šæ‰§è¡Œä¸€æ¬¡å‡½æ•°

  


1. åˆ©ç”¨lodashä¸­å†…ç½®çš„é˜²æŠ–å’ŒèŠ‚æµ

   - é˜²æŠ–ï¼ˆç‚¹å‡»åæœ€åä¸€æ¬¡æ—¶é—´çš„500æ¯«ç§’åæ‰“å°ä¸€æ¬¡ï¼‰

     ```vue
     import debounce from 'lodash/debounce'
     
     methods:{
     	test: debounce(function () {
           console.log(1);
         }, 500),
     }
     ```

   - èŠ‚æµï¼ˆæ¯éš”500æ¯«ç§’æ‰“å°ä¸€æ¬¡ï¼‰

     ```vue
    import throttle from 'lodash/throttle'
     
     methods:{
     	test: throttle(function () {
           console.log(1);
         }, 500),
     }
     ```
   
     



## é¡µé¢ç›‘æ§é¼ æ ‡ç‚¹å‡»äº‹ä»¶

1. æ·»åŠ ç›‘å¬

   ```vue
   mounted () {
       window.addEventListener('click', this.handleClick, true);
   },
   ```

2. æ–¹æ³•è°ƒç”¨

   ```vue
   methods:{
       //  ç‚¹å‡»äº‹ä»¶
       handleClick(e){
           console.log(e)
       },
   }
   ```

3. ç§»é™¤ç›‘æ§

   ```vue
     destroyed() {
       window.removeEventListener('click', this.handleClick, true);
     },
   ```




## ä¸‹è½½æ–‡ä»¶

- æ–‡ä»¶æµ

  ```
      let elink = document.createElement('a');
      elink.download = `${file.name}`;
      elink.style.display = 'none';
      let blob = new Blob([res]);
      elink.href = URL.createObjectURL(blob);
      document.body.appendChild(elink);
      elink.click();
      document.body.removeChild(elink);
  ```

- æ–‡ä»¶é“¾æ¥

  ```
        let link = document.createElement('a');
        link.style.display = 'none';
        link.href = 'xxxx.doc';
        link.setAttribute('download', name);
        document.body.appendChild(link);
        link.click();
  ```

  