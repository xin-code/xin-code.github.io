---
title: Echarts常用方法
date: 2023-01-12 18:16:15
permalink: /pages/97f324/
categories:
  - 图表
tags:
  - 
author: 
  name: Xin
  link: https://github.com/xin-code
---
Echarts常用知识点

<!-- more -->



## 清空 echarts 数据

```echarts
$("#myChart").removeAttr("_echarts_instance_").empty();
```



## 折线图点击空白部分自动吸附对应的点并触发点击事件

```echarts
myChart.getZr().on('mousedown', (params) => {
  console.log(params);
  const pointInPixel = [params.offsetX, params.offsetY];
  if (myChart.containPixel('grid', pointInPixel)) {
    let xIndex = myChart.convertFromPixel({ seriesIndex: 0 }, [
      params.offsetX,
      params.offsetY
    ])[0];
    alert('你点击区域的数据为：'+option.series[0].data[xIndex])
  }
});
```



## 柱状图顶端不展示数值为0的

```echarts
series: [{
	type: 'bar',
	data: datay,
	color: '#5FD990',
	itemStyle: {
		normal: {
			label: {
				show: true, //开启显示
				position: 'top', //在上方显示
				formatter:function(val){
					if(val.value == 0){
						return ""
					}
				},
				textStyle: { //数值样式
					color: 'black',
					fontSize: 12
				}
			}
		}
	}
}]
```



## X轴文字过长设置超出隐藏显示省略号

```echarts
xAxis: [{
	type: 'category',
	data: _this.qyjyNameList,
	// data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
	axisTick: {
		alignWithLabel: true
	},
	axisLabel: {
		interval: 0, // 强制显示所有标签
		rotate: 40,
		// 超过4个字显示省略号
		formatter: function (value) {
			if (value.length > 4) {
				return `${value.slice(0, 4)}...`;
			}
		return value;
		}
	}
}]
```



## 玫瑰图 图像按照一个方向展示

通过把data数据 按照从大到小排序一下即可实现

